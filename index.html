<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Interledger Wallet Test</title>
  <style>
    body { font-family: Arial; text-align:center; margin-top:50px; }
    input { padding:5px; margin:10px; }
    button { padding:10px; margin:10px; }
    #status { margin-top:20px; font-weight:bold; }
  </style>
</head>
<body>
  <h2>Enviar pago Interledger Test</h2>
  <input type="number" id="amount" placeholder="Monto a enviar" />
  <br>
  <button onclick="sendPayment('padre')">Enviar a Wallet padre</button>
  <button onclick="sendPayment('hijo1')">Enviar a Wallet hijo</button>
  <div id="status"></div>

  <script>
    async function sendPayment(wallet) {
      const amount = document.getElementById('amount').value;
      if (!amount || amount <= 0) {
        document.getElementById('status').innerText = "Ingresa un monto vÃ¡lido";
        return;
      }

      try {
        const response = await fetch('http://localhost:3000/pagar', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ wallet, amount })
        });
        const data = await response.json();
        document.getElementById('status').innerText = data.message;
      } catch (err) {
        document.getElementById('status').innerText = `Error: ${err.message}`;
      }
    }
  </script>
</body>
</html>

